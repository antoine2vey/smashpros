### This file was generated by Nexus Schema
### Do not make changes to this file directly

type AuthPayload {
  accessToken: String
  refreshToken: String
}

type Battle {
  id: ID!
  initiator: User
  initiator_character: Character
  initiator_vote: User
  opponent: User
  opponent_character: Character
  opponent_vote: User
  winner: User
}

type Character {
  id: ID!
  name: String!
  picture: String!
  users: [User!]!
}

type Crew {
  admin: User!
  banner: String!
  icon: String!
  id: ID!
  members: [User!]!
  name: String!
  prefix: String!
  waiting_members: [User!]!
}

input CrewCreationPayload {
  banner: Upload!
  icon: Upload!
  name: String!
  prefix: String!
}

enum CrewUpdateActionEnum {
  ACCEPT
  DENY
}

"""
Date custom scalar type
"""
scalar DateTime

type Event {
  event_id: Int!
  id: ID!
  name: String!
  num_attendees: Int!
  tier: String!
  tournament: Tournament!
  valid: Boolean!
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON
  @specifiedBy(
    url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf"
  )

type Match {
  amount: Int
  battles: [Battle!]!
  id: ID!
  initiator: User
  initiator_wins: Int!
  is_moneymatch: Boolean!
  opponent: User
  opponent_wins: Int!
  state: MatchState!
  total_matches: Int!
  winner: User
}

type MatchConnection {
  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-Edge-Types
  """
  edges: [MatchEdge]

  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-undefined.PageInfo
  """
  pageInfo: PageInfo!
}

type MatchEdge {
  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-Cursor
  """
  cursor: String!

  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-Node
  """
  node: Match
}

enum MatchState {
  CHARACTER_CHOICE
  FINISHED
  HOLD
  PLAYING
  REFUSED
}

type Mutation {
  askPasswordReset(email: String!): String
  checkUserIn(participant: ID!, tournament: ID!): Boolean
  createCrew(payload: CrewCreationPayload!): Crew
  favoriteTournament(id: ID!, unfavorite: Boolean = false): Boolean
  joinCrew(id: ID!): Crew
  kickMember(id: ID!): User
  leaveCrew: Crew
  login(email: String!, password: String!): AuthPayload
  participateTournament(id: ID!, unparticipate: Boolean): Tournament
  passwordReset(
    code: String!
    confirmPassword: String!
    password: String!
  ): Boolean
  refresh(refreshToken: String!): RefreshPayload
  register(payload: UserRegisterPayload!): User
  sendMatchInvite(
    amount: Int
    isMoneymatch: Boolean
    to: ID!
    totalMatches: Int!
    tournament: ID
  ): Match
  setOnline(online: Boolean!): User
  synchronizeTournaments: [Tournament]
  transferCrewOwnership(to: ID!): Crew
  updateBattle(character: ID, id: ID!, vote: ID): Battle
  updateMatch(id: ID!, state: MatchState!): Match
  updateMember(action: CrewUpdateActionEnum!, id: ID!): Crew
  updateProfile(payload: UserUpdatePayload!): User
  userEnteredTournament(tournament: ID!): User
  userLeftTournament(tournament: ID!): User
}

"""
PageInfo cursor, as defined in https://facebook.github.io/relay/graphql/connections.htm#sec-undefined.PageInfo
"""
type PageInfo {
  """
  The cursor corresponding to the last nodes in edges. Null if the connection is empty.
  """
  endCursor: String

  """
  Used to indicate whether more edges exist following the set defined by the clients arguments.
  """
  hasNextPage: Boolean!

  """
  Used to indicate whether more edges exist prior to the set defined by the clients arguments.
  """
  hasPreviousPage: Boolean!

  """
  The cursor corresponding to the first nodes in edges. Null if the connection is empty.
  """
  startCursor: String
}

type Query {
  characters: [Character]
  crew(id: ID): Crew
  crews: [Crew]
  match(id: ID!): Match
  matches(
    """
    Returns the elements in the list that come after the specified cursor
    """
    after: String

    """
    Returns the elements in the list that come before the specified cursor
    """
    before: String

    """
    Returns the first n elements from the list.
    """
    first: Int

    """
    Returns the last n elements from the list.
    """
    last: Int
  ): MatchConnection
  suggestedName(slug: String!): SuggestedName
  tournament(id: ID!): Tournament
  tournaments(
    """
    Returns the elements in the list that come after the specified cursor
    """
    after: String

    """
    Returns the elements in the list that come before the specified cursor
    """
    before: String

    """
    Returns the first n elements from the list.
    """
    first: Int

    """
    Returns the last n elements from the list.
    """
    last: Int
  ): TournamentConnection
  user(id: ID): User
  users(
    """
    Returns the elements in the list that come after the specified cursor
    """
    after: String

    """
    Returns the elements in the list that come before the specified cursor
    """
    before: String
    filters: UserFilter!

    """
    Returns the first n elements from the list.
    """
    first: Int

    """
    Returns the last n elements from the list.
    """
    last: Int
  ): UserConnection
}

type RefreshPayload {
  accessToken: String
}

input RegisterPayload {
  success: Boolean
}

type Role {
  id: ID!
  name: RoleEnum!
}

enum RoleEnum {
  ADMIN
  CREW_ADMIN
  TOURNAMENT_ORGANIZER
  USER
}

type Subscription {
  onBattleUpdate(id: ID): Battle
  onMatchUpdate(id: ID!): Match
  onUserJoinMatch(id: ID!): User
  onUserLeftMatch(id: ID!): User
  userEnteredTournament: User!
  userLeftTournament: User!
}

type SuggestedName {
  profilePicture: String
  smashGGPlayerId: Int!
  smashGGUserId: Int!
  tag: String!
}

type Tournament {
  city: String
  country_code: String!
  created_at: DateTime
  currency: String!
  end_at: DateTime
  event_registration_closes_at: DateTime
  events: [Event!]!
  favorited_by: [User!]!
  has_offline_events: Boolean
  id: ID!
  images: [String!]!
  is_registration_open: Boolean
  is_started: Boolean!
  lat: Float
  lng: Float
  name: String!
  num_attendees: Int
  participants(
    """
    Returns the elements in the list that come after the specified cursor
    """
    after: String

    """
    Returns the elements in the list that come before the specified cursor
    """
    before: String
    characters: [ID!]

    """
    Returns the first n elements from the list.
    """
    first: Int

    """
    Returns the last n elements from the list.
    """
    last: Int
  ): TournamentParticipants_Connection
  slug: String!
  start_at: DateTime
  state: Int!
  tournament_id: Int!
  venue_address: String
  venue_name: String
}

type TournamentConnection {
  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-Edge-Types
  """
  edges: [TournamentEdge]

  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-undefined.PageInfo
  """
  pageInfo: PageInfo!
}

type TournamentEdge {
  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-Cursor
  """
  cursor: String!

  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-Node
  """
  node: Tournament
}

type TournamentParticipants_Connection {
  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-Edge-Types
  """
  edges: [UserEdge]

  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-undefined.PageInfo
  """
  pageInfo: PageInfo!
  totalCount: Int
}

input TournamentQuery {
  id: ID
  player: String
}

"""
The `Upload` scalar type represents a file upload.
"""
scalar Upload

type User {
  allow_notifications: Boolean!
  allow_searchability: Boolean!
  characters: [Character!]!
  created_at: DateTime!
  crew: Crew
  email: String!
  favorited_tournaments: [Tournament!]!
  id: ID!
  in_match: Boolean!
  in_tournament: Boolean!
  nextTournament: Tournament
  profile_picture: String
  roles: [Role!]!
  smashgg_player_id: Int
  smashgg_slug: String
  tag: String!
  tournaments: [Tournament!]!
  tournaments_organizer: [Tournament!]!
  twitch_username: String
  twitter_username: String
  updated_at: DateTime!
  waiting_crew: Crew
}

type UserConnection {
  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-Edge-Types
  """
  edges: [UserEdge]

  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-undefined.PageInfo
  """
  pageInfo: PageInfo!
}

type UserEdge {
  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-Cursor
  """
  cursor: String!

  """
  https://facebook.github.io/relay/graphql/connections.htm#sec-Node
  """
  node: User
}

input UserFilter {
  characters: [ID!]
  tag: String
  tournament: ID
}

input UserRegisterPayload {
  characters: [ID!]!
  email: String!
  password: String!
  profilePicture: Upload!
  smashGGPlayerId: Int
  smashGGSlug: String
  smashGGUserId: Int
  tag: String!
  twitchUsername: String
  twitterUsername: String
}

input UserUpdatePayload {
  characters: [ID!]!
  email: String!
  password: String!
  profilePicture: Upload
  smashGGPlayerId: Int
  smashGGSlug: String
  smashGGUserId: Int
  tag: String!
  twitchUsername: String
  twitterUsername: String
}
