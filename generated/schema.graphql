### This file was generated by Nexus Schema
### Do not make changes to this file directly


type AuthPayload {
  token: String
}

type Character {
  id: ID!
  name: String!
  picture: String!
  users: [User!]!
}

type Crew {
  banner: String!
  icon: String!
  id: ID!
  members: [User!]!
  name: String!
  prefix: String!
  waiting_members: [User!]!
}

input CrewCreationPayload {
  banner: Upload!
  icon: Upload!
  name: String!
  prefix: String!
}

enum CrewUpdateActionEnum {
  ACCEPT
  DENY
}

"""Date custom scalar type"""
scalar DateTime

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON @specifiedBy(url: "http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf")

type Match {
  adversary: User!
  adversary_wins: Int!
  amount: Int
  id: ID!
  initiator: User!
  intiator_wins: Int!
  is_moneymatch: Boolean!
  state: MatchState!
  total_matches: Int!
}

enum MatchState {
  FINISHED
  HOLD
  REFUSED
  STARTED
}

type Mutation {
  askPasswordReset(email: String!): String
  checkUserIn(participant: ID!, tournament: ID!): Boolean
  createCrew(payload: CrewCreationPayload!): Crew
  favoriteTournament(id: ID!, unfavorite: Boolean = false): Boolean
  joinCrew(id: ID!): Crew
  kickMember(id: ID!): Crew
  login(email: String!, password: String!): AuthPayload
  participateTournament(id: ID!, unparticipate: Boolean): Tournament
  passwordReset(code: String!, confirmPassword: String!, password: String!): Boolean
  register(payload: UserRegisterPayload!): User
  sendMatchInvite(amount: Int, isMoneymatch: Boolean, to: ID!, totalMatches: Int!): Match
  synchronizeTournaments: [Tournament]
  updateMatchScore(id: ID!): Match
  updateMatchState(id: ID!, state: MatchState!): Match
  updateMember(action: CrewUpdateActionEnum!, id: ID!): Crew
  updateProfile(payload: UserUpdatePayload!): User
  userEnteredTournament(tournament: ID!): User
  userLeftTournament(tournament: ID!): User
}

type Query {
  characters: [Character]
  crew: Crew
  crews: [Crew]
  matches: [Match!]
  suggestedName(slug: String!): String
  tournament(id: ID!): Tournament
  tournaments: [Tournament!]
  usersByCharacter(id: ID!): [User!]
}

input RegisterPayload {
  success: Boolean
}

type Role {
  id: ID!
  name: RoleEnum!
}

enum RoleEnum {
  ADMIN
  CREW_ADMIN
  TOURNAMENT_ORGANIZER
  USER
}

type Subscription {
  userEnteredTournament: User!
  userLeftTournament: User!
}

type Tournament {
  city: String
  countryCode: String!
  createdAt: DateTime
  currency: String!
  endAt: DateTime
  eventRegistrationClosesAt: DateTime
  favorited_by: [User!]!
  hasOfflineEvents: Boolean
  id: ID!
  images: [String!]!
  isRegistrationOpen: Boolean
  lat: Float
  lng: Float
  name: String!
  numAttendees: Int
  participants(characters: [ID!]): [User!]!
  slug: String!
  state: Int!
  tournament_id: Int!
  venueAddress: String
  venueName: String
}

input TournamentQuery {
  id: ID
  player: String
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

type User {
  characters: [Character!]!
  crew: Crew
  email: String!
  id: ID!
  in_tournament: Boolean!
  profile_picture: String
  roles: [Role!]!
  tag: String!
  tournaments: [Tournament!]!
  tournaments_organizer: [Tournament!]!
  waiting_crew: Crew
}

input UserRegisterPayload {
  characters: [ID!]!
  email: String!
  password: String!
  profilePicture: Upload!
  smashGGProfile: String
  tag: String!
  twitchUsername: String
  twitterUsername: String
}

input UserUpdatePayload {
  characters: [ID!]!
  email: String!
  password: String!
  profilePicture: Upload
  smashGGProfile: String
  tag: String!
  twitchUsername: String
  twitterUsername: String
}
